<html DIR="LTR" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ddue="http://ddue.schemas.microsoft.com/authoring/2003/5" xmlns:MSHelp="http://msdn.microsoft.com/mshelp">

  <head>

    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=utf-8" />

    <META NAME="save" CONTENT="history" />

    <title>_FCopy( ) API Library Routine</title>

    

    <link rel="stylesheet" type="text/css" href="../local/Classic.css">

      

    </link>

    

    <script src="../local/EventUtilities.js">

      

    </script>

    <script src="../local/SplitScreen.js">

      

    </script>

    <script src="../local/Dropdown.js">

      

    </script>

    <script src="../local/script.js">

      

    </script>

  </head>

  <body>


    <input type="hidden" id="userDataCache" class="userDataStyle">

    </input>

    <input type="hidden" id="hiddenScrollOffset">

    </input>

    <img id="dropDownImage" style="display:none; height:0; width:0;" alt="Filter choices image" src="../local/drpdown.gif">

      

      

    </img>

    <img id="dropDownHoverImage" style="display:none; height:0; width:0;" alt="DropDownHover image" src="../local/drpdown_orange.gif">

      

      

    </img>

    <img id="collapseImage" style="display:none; height:0; width:0;" alt="Collapse image" src="../local/collapse_all.gif">

      

      

    </img>

    <img id="expandImage" style="display:none; height:0; width:0;" alt="Expand image" src="../local/expand_all.gif">

      

      

    </img>

    <img id="collapseAllImage" style="display:none; height:0; width:0;" alt="CollapseAll image" src="../local/collall.gif">

      

      

    </img>

    <img id="expandAllImage" style="display:none; height:0; width:0;" alt="ExpandAll image" src="../local/expall.gif">

      

      

    </img>

    <img id="copyImage" style="display:none; height:0; width:0;" alt="Copy image" src="../local/copycode.gif">

      

      

    </img>

    <img id="copyHoverImage" style="display:none; height:0; width:0;" alt="CopyHover image" src="../local/copycodeHighlight.gif">

      

      

    </img>

    <div id="header">

      <table width="100%" id="topTable">

        <tr id="headerTableRow1">

          <td align="left">

            <span id="runningHeaderText">

              Visual FoxPro 9.0 SP2

            </span>

          </td>

        </tr>

        <tr id="headerTableRow2">

          <td align="left">

            <span id="nsrTitle">_FCopy( ) API Library Routine</span>

          </td>

        </tr>

        <tr id="headerTableRow3">

          <td>

            <a href="#seeAlsoToggle" onclick="OpenSection(seeAlsoToggle)">See Also</a> 

									<a href="#codeExampleToggle" onclick="OpenSection(codeExampleToggle)">Example</a></td>

        </tr>

      </table>

      <table width="100%" id="bottomTable" cellspacing="0" cellpadding="0">

        <tr>

          <td>

            <span onclick="ExpandCollapseAll(toggleAllImage)" style="cursor:default;" onkeypress="ExpandCollapseAll_CheckKey(toggleAllImage)" tabindex="0">

              <img ID="toggleAllImage" class="toggleAll" alt="CollapseAll image" src="../local/collall.gif">

                

                

              </img>

              <label id="collapseAllLabel" for="toggleAllImage" style="display: none;">

                Collapse All

              </label>

              <label id="expandAllLabel" for="toggleAllImage" style="display: none;">

                Expand All

              </label> </span>

            <span id="languageFilterToolTip" style="cursor:default;" onmouseover="languageFilterImage.src=dropDownHoverImage.src;" onmouseout="languageFilterImage.src=dropDownImage.src;" tabindex="0">

              <img id="languageFilterImage" alt="Filter choices image" src="../local/drpdown.gif">

                

                

              </img>

              <label id="showAllLabel" for="languageFilterImage" style="display: none;">

                Language Filter: 

                    All

                  

              </label>

              <label id="multipleLabel" for="languageFilterImage" style="display: none;">

                Language Filter: 

                    Multiple

                  

              </label>

              <label id="vbLabel" for="languageFilterImage" style="display: none;">

                Language Filter: 

                    Visual Basic

                  

              </label>

              <label id="csLabel" for="languageFilterImage" style="display: none;">

                Language Filter: 

                    C#

                  

              </label>

              <label id="cLabel" for="languageFilterImage" style="display: none;">

                Language Filter: 

                    C++

                  

              </label>

              <label id="jsharpLabel" for="languageFilterImage" style="display: none;">

                Language Filter: 

                    J#

                  

              </label>

              <label id="jsLabel" for="languageFilterImage" style="display: none;">

                Language Filter: 

                    JScript

                  

              </label>

            </span>

          </td>

        </tr>

      </table>

      <div id="languageSpan" xmlns:msxsl="urn:schemas-microsoft-com:xslt">

        <input type="checkbox" name="languageFilter" onClick="SetLanguage(this)" id="vbDeclarationCheckbox" />

        <label class="languageFilter" for="vbDeclarationCheckbox">Visual Basic (Declaration)</label>

        <br />

        <input type="checkbox" name="languageFilter" onClick="SetLanguage(this)" id="vbUsageCheckbox" />

        <label class="languageFilter" for="vbUsageCheckbox">Visual Basic (Usage)</label>

        <br />

        <input type="checkbox" name="languageFilter" onClick="SetLanguage(this)" id="csCheckbox" />

        <label class="languageFilter" for="csCheckbox">C#</label>

        <br />

        <input type="checkbox" name="languageFilter" onClick="SetLanguage(this)" id="cCheckbox" />

        <label class="languageFilter" for="cCheckbox">C++</label>

        <br />

        <input type="checkbox" name="languageFilter" onClick="SetLanguage(this)" id="jsharpCheckbox" />

        <label class="languageFilter" for="jsharpCheckbox">J#</label>

        <br />

        <input type="checkbox" name="languageFilter" onClick="SetLanguage(this)" id="jsCheckbox" />

        <label class="languageFilter" for="jsCheckbox">JScript</label>

        <br />

      </div>

    </div>

    <div id="mainSection">

      <div id="mainBody">

        <div id="allHistory" class="saveHistory" onsave="saveAll()" onload="loadAll()">

        </div>

        <font color="DarkGray"></font><p />

    <p>Attempts to copy <span class="parameter">len</span> bytes from the offset position <span class="parameter">spos</span> in source file <span class="parameter">sc</span> to the offset position <span class="parameter">dpos</span> in destination file <span class="parameter">dc</span>.</p>

  <div id="syntaxSection" class="section"><div id="syntaxCodeBlocks" class="code"><span codeLanguage="other"><table width="100%" cellspacing="0" cellpadding="0"><tr><th align="left"></th></tr><tr><td><pre>

int _FCopy(FCHAN dc, long dpos, FCHAN sc, long spos, long len)

FCHAN dc;                  /* File channel of destination file. */

long dpos;                  /* Offset position to start copying to. */

FCHAN sc;                  /* File channel of source file. */

long spos;                  /* Offset position to start copying from. */

long len;                     /* Number of bytes to copy. */</pre></td></tr></table></span></div></div><h1 class="heading"><span onclick="ExpandCollapse(remarksToggle)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(remarksToggle)" tabindex="0"><img id="remarksToggle" onload="OnLoadImage()" class="toggle" name="toggleSwitch" alt="Expand image" src="../local/expand_all.gif"></img>Remarks</span></h1><div id="remarksSection" class="section" name="collapseableSection" style="display: none;">

    

      <p>_FCopy( ) returns True (an integer other than 0) if it succeeds, or False (0) if it fails.</p>

      <p>For more information on how to create an API library and integrate it with Visual FoxPro, see <a href="/html/566a1828-db5f-432f-8940-c4dd53c08920.htm">Accessing the Visual FoxPro API</a>.</p>

    

  </div><h1 class="heading"><span onclick="ExpandCollapse(codeExampleToggle)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(codeExampleToggle)" tabindex="0"><img id="codeExampleToggle" onload="OnLoadImage()" class="toggle" name="toggleSwitch" alt="Expand image" src="../local/expand_all.gif"></img>Example</span></h1><div id="codeExampleSection" class="section" name="collapseableSection" style="display: none;">

    

      

        <p>The following example creates two files. It writes the text "Hello, world" to the first of these files and then copies the contents of this file, beginning with the third byte, to the second file.</p>

      

      <sections xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">

        <h3 class="subHeading" xmlns="">Visual FoxPro Code</h3><div class="subSection" xmlns="">

            <div class="code"><span codeLanguage="other"><table width="100%" cellspacing="0" cellpadding="0"><tr><th> </th><th><span class="copyCode" onclick="CopyCode(this)" onkeypress="CopyCode_CheckKey(this)" onmouseover="ChangeCopyCodeIcon(this)" onmouseout="ChangeCopyCodeIcon(this)" tabindex="0"><img class="copyCodeImage" name="ccImage" align="absmiddle" alt="CopyCode image" src="../local/copycode.gif"></img>Copy Code</span></th></tr><tr><td colspan="2"><pre>SET LIBRARY TO FCOPY </pre></td></tr></table></span></div>

          </div>

        <h3 class="subHeading" xmlns="">C Code</h3><div class="subSection" xmlns="">

            <div class="code"><span codeLanguage="other"><table width="100%" cellspacing="0" cellpadding="0"><tr><th> </th><th><span class="copyCode" onclick="CopyCode(this)" onkeypress="CopyCode_CheckKey(this)" onmouseover="ChangeCopyCodeIcon(this)" onmouseout="ChangeCopyCodeIcon(this)" tabindex="0"><img class="copyCodeImage" name="ccImage" align="absmiddle" alt="CopyCode image" src="../local/copycode.gif"></img>Copy Code</span></th></tr><tr><td colspan="2"><pre>#include &lt;pro_ext.h&gt;



FAR Example(ParamBlk FAR *parm)

{

   FCHAN fchan1, fchan2;

   int len;



   fchan1 = _FCreate("temp1.txt", FC_NORMAL);

   _FPuts(fchan1, "Hello, world.");

   _FFlush(fchan1);



   len = _FSeek(fchan1, 0, FS_FROMEOF); // determine length of file



   fchan2 = _FCreate("temp2.txt", FC_NORMAL);

   _FCopy(fchan2, 0, fchan1, 2, len - 2);



   _FClose(fchan1);

   _FClose(fchan2);

}



FoxInfo myFoxInfo[] = {

   {"FCOPY", (FPFI) Example, CALLONLOAD, ""},

};

FoxTable _FoxTable = {

   (FoxTable FAR *) 0, sizeof(myFoxInfo)/sizeof(FoxInfo), myFoxInfo

};</pre></td></tr></table></span></div>

          </div>

      </sections>

    

  </div><h1 class="heading"><span onclick="ExpandCollapse(seeAlsoToggle)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(seeAlsoToggle)" tabindex="0"><img id="seeAlsoToggle" onload="OnLoadImage()" class="toggle" name="toggleSwitch" alt="Expand image" src="../local/expand_all.gif"></img>See Also</span></h1><div id="seeAlsoSection" class="section" name="collapseableSection" style="display: none;"><h4 class="subHeading">Reference</h4><span class="linkTerms"><a href="/html/b014f63b-8d73-42e7-bd24-e73278788d3b.htm">_FPuts( ) API Library Routine</a></span><br /><span class="linkTerms"><a href="/html/27084be3-43b1-4a39-8b9c-322d6202ab80.htm">_FWrite( ) API Library Routine</a></span><br /><span class="linkTerms"><a href="/html/733a4949-909a-45c1-998b-fca91e254f53.htm">_FCreate( ) API Library Routine</a></span><br /><h4 class="subHeading">Other Resources</h4><span class="linkTerms"><a href="/html/8c8b7a75-75ae-4a31-95ce-5b1ea7fc7a7d.htm">API Library Construction</a></span><br /><span class="linkTerms"><a href="/html/566a1828-db5f-432f-8940-c4dd53c08920.htm">Accessing the Visual FoxPro API</a></span><br /><br /></div></div>

      <div id="footer">

        <div class="footerLine">

          <img width="100%" height="3px" alt="Footer image" src="../local/footer.gif">

            

            

          </img>

        </div>

        <a href="http://go.microsoft.com/fwlink/?LinkId=50040"></a>© Microsoft Corporation. All rights reserved.

      </div>

    </div>

  </body>

</html>
